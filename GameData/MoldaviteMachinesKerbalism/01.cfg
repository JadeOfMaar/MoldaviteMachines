// Greenhouses
@PART[mmgh-agr-*]:NEEDS[Kerbalism,ProfileDefault]:FOR[MoldaviteMachinesKerbalism]
{
	@tags ^= :$: _kerbalism
	MODULE
	{
		name = Greenhouse
		crop_resource = Food
		crop_size = 27.5625
		@crop_size *= #$/refPower$
		crop_rate = 0.00000023148
		ec_rate = 2.5
		@ec_rate *= #$/refPower$
		light_tolerance = 400.0
		pressure_tolerance = 0.1
		radiation_tolerance = 0.000008333
		lamps = 
		shutters = 
		plants = 
		INPUT_RESOURCE
		{
			name = Ammonia
			rate = 0.000095703125
			@rate *= #$/refPower$
		}
		INPUT_RESOURCE
		{
			name = Water
			rate = 0.0000031901
			@rate *= #$/refPower$
		}
		INPUT_RESOURCE
		{
			name = WasteAtmosphere
			rate = 0.00124579975
			@rate *= #$/refPower$
		}
		INPUT_RESOURCE
		{
			name = CarbonDioxide
			rate = 0.000415266575
			@rate *= #$/refPower$
		}
		OUTPUT_RESOURCE
		{
			name = Oxygen
			rate = 0.00172379825
			@rate *= #$/refPower$
		}
	}
	
	MODULE
	{
		name = ProcessController
		resource = _PressureControl
		title = #KERBALISM_PressureControl_title//Pressure control
		capacity = 0.2143
		@capacity *= #$/refPower$
		running = true
	}
	
	RESOURCE
	{
		name = Ammonia
		amount = 272
		maxAmount = 272
		@amount *= #$/refPower$
		@maxAmount *= #$/refPower$
	}
	RESOURCE
	{
		name = CarbonDioxide
		amount = 4500
		maxAmount = 4500
		@amount *= #$/refPower$
		@maxAmount *= #$/refPower$
	}
	RESOURCE
	{
		name = Nitrogen
		amount = 10000
		maxAmount = 10000
		@amount *= #$/refPower$
		@maxAmount *= #$/refPower$
	}
	RESOURCE
	{
		name = Water
		amount = 11 
		maxAmount = 11
		@amount *= #$/refPower$
		@maxAmount *= #$/refPower$
	}
	
	!MODULE[ModuleResourceConverter],* {}
}


// Algae farms
@PART[mmgh-alg-*]:NEEDS[Kerbalism,ProfileDefault]:FOR[MoldaviteMachinesKerbalism]
{
	MODULE
	{
		name = ProcessController
		resource = _MMGHAlgae
		title = #LOC_mmgh_algae
		capacity = #$/refPower$
	}
	MODULE
	{
		name = ProcessController
		resource = _MMGHPhotolysis
		title = #LOC_mmgh_watersplit
		capacity = #$/refPower$
	}
	
	MODULE
	{
		name = Configure
		title = Chemical Plant
		slots = 2
		SETUP
		{
			name = Algae
			desc = Use **Water** and modest UV light to foster the growth of usable **Algae**.
			MODULE
			{
				type = ProcessController
				id_field = resource
				id_value = _MMGHAlgae
			}
		}
		SETUP
		{
			name = Water Photolysis
			desc = Use accumulated **Algae** and some UV light to separate much needed **LqdHydrogen** from **Water**.
			MODULE
			{
				type = ProcessController
				id_field = resource
				id_value = _MMGHPhotolysis
			}
		}
	}
	
	!MODULE[ModuleResourceConverter],* {}
}

// Photobioreactors
@PART[mmgh-pbr-*]:NEEDS[Kerbalism,ProfileDefault]:FOR[MoldaviteMachinesKerbalism]
{
	@tags ^= :$: _kerbalism
	MODULE
	{
		name = ProcessController
		resource = _MMGHPhotoculture
		title = #LOC_mmgh_photoculture
		capacity = #$/refPower$
	}
	MODULE
	{
		name = ProcessController
		resource = _MMGHLiquidFuel
		@resource:NEEDS[RealFuels] = _MMGHKerosene
		title = #LOC_mmgh_lf
		capacity = #$/refPower$
	}
	MODULE
	{
		name = ProcessController
		resource = _MMGHMethane
		@resource:NEEDS[RealFuels] = _MMGHMethaneRF
		title = #LOC_mmgh_lch4
		capacity = #$/refPower$
	}
	MODULE
	{
		name = ProcessController
		resource = _MMGHEthanol
		@resource:NEEDS[RealFuels] = _MMGHEthanolRF
		title = #LOC_mmgh_ethanol
		capacity = #$/refPower$
	}
	
	MODULE
	{
		name = Configure
		title = Chemical Plant
		slots = 2
		UPGRADES
		{
			UPGRADE
			{
				name__ = Upgrade-Slots
				techRequired__ = electronics
				slots = 3
			}
		}
		SETUP
		{
			name = Photoculture
			desc = Use **Water**, some modest UV light and abstracted Minerals to foster the growth of Carbon-fixing microbes refered hereto as **Photoculture**.
			MODULE
			{
				type = ProcessController
				id_field = resource
				id_value = _MMGHPhotoculture
			}
		}
		SETUP:NEEDS[!RealFuels]
		{
			name = LiquidFuel
			desc = Use some **Photoculture, CarbonDioxide** and **Water** to produce **LiquidFuel**.
			MODULE
			{
				type = ProcessController
				id_field = resource
				id_value = _MMGHLiquidFuel
			}
		}
		SETUP:NEEDS[RealFuels]
		{
			name = Kerosene
			desc = Use some **Photoculture, CarbonDioxide** and **Water** to produce **Kerosene**.
			MODULE
			{
				type = ProcessController
				id_field = resource
				id_value = _MMGHKerosene
			}
		}
		SETUP
		{
			name = Methane
			desc = Use some **Photoculture, CarbonDioxide** and **Water** to produce **LqdMethane**.
			MODULE
			{
				type = ProcessController
				id_field = resource
				id_value = _MMGHMethane
				@id_value:NEEDS[RealFuels] = _MMGHMethaneRF
			}
		}
		SETUP
		{
			name = Ethanol
			desc = Use some **Photoculture, CarbonDioxide** and **Water** to produce **Ethanol**.
			MODULE
			{
				type = ProcessController
				id_field = resource
				id_value = _MMGHEthanol
				@id_value:NEEDS[RealFuels] = _MMGHEthanolRF
			}
		}
	}
	
	!MODULE[ModuleResourceConverter],* {}
}